import{P as o,i as r}from"./chunk-6VMPXGO3.js";var d=(()=>{class i{constructor(){this.products=[{id:1,name:"Playera de la EIAO (Edicion 2025)",description:"Playera mas actual que tenemos. En la compra de una te llevas otra con nuevo dise\xF1o.",price:500,image:"../../../assets/imagenes/Playeras/WhatsApp Image 2025-09-30 at 11.35.23 PM (1).jpeg",category:"Playeras"},{id:2,name:"Playera de la EIAO (Edicion 2024)",description:"Playera mas actual que tenemos. En la compra de una te llevas otra con nuevo dise\xF1o.",price:500,image:"../../../assets/imagenes/Playeras/WhatsApp Image 2025-09-30 at 11.35.23 PM (2).jpeg",category:"Playeras"},{id:3,name:"Playera de la EIAO (Edicion 2023)",description:"Playera mas actual que tenemos. En la compra de una te llevas otra con nuevo dise\xF1o.",price:500,image:"../../../assets/imagenes/Playeras/WhatsApp Image 2025-09-30 at 11.35.23 PM (3).jpeg",category:"Playeras"},{id:4,name:"Playera de la EIAO (Edicion 2023)",description:"Playera mas actual que tenemos. En la compra de una te llevas otra con nuevo dise\xF1o.",price:500,image:"../../../assets/imagenes/Playeras/WhatsApp Image 2025-09-30 at 11.35.23 PM (4).jpeg",category:"Playeras"},{id:5,name:"Playera de la EIAO (Edicion 2022)",description:"Playera mas actual que tenemos. En la compra de una te llevas otra con nuevo dise\xF1o",price:500,image:"../../../assets/imagenes/Playeras/WhatsApp Image 2025-09-30 at 11.35.23 PM.jpeg",category:"Playera"},{id:6,name:"Colgante de la EIAO (Edicion Programaci\xF3n Web)",description:"Colgante moderno para nuestros gafetes",price:50,image:"../../../assets/imagenes/Playeras/WhatsApp Image 2025-09-30 at 11.53.08 PM.jpeg",category:"Colgante"}],this.clicks=[],this.clicksSubject=new r([]),this.clicks$=this.clicksSubject.asObservable(),this.loadClicks()}loadClicks(){let t=localStorage.getItem("productClicks");if(t)try{this.clicks=JSON.parse(t),this.clicksSubject.next(this.clicks)}catch{this.clicks=[]}}saveClicks(){localStorage.setItem("productClicks",JSON.stringify(this.clicks)),this.clicksSubject.next(this.clicks)}getProducts(){return[...this.products]}getProductById(t){return this.products.find(e=>e.id===t)}trackClick(t,e){let a={productId:t,userEmail:e,timestamp:Date.now()};this.clicks.push(a),this.saveClicks()}getProductStats(){let t=[];return this.products.forEach(e=>{let a=this.clicks.filter(s=>s.productId===e.id),c={};a.forEach(s=>{c[s.userEmail]||(c[s.userEmail]=0),c[s.userEmail]++}),t.push({productId:e.id,productName:e.name,totalClicks:a.length,clicksByUser:c})}),t}getClicksByProduct(){return this.products.map(t=>{let e=this.clicks.filter(a=>a.productId===t.id).length;return{productName:t.name,clicks:e}})}clearStats(){this.clicks=[],this.saveClicks()}getTotalRevenue(){return this.clicks.reduce((t,e)=>{let a=this.getProductById(e.productId);return t+(a?.price||0)},0)}getUserStats(){let t=new Map;return this.clicks.forEach(e=>{let c=this.getProductById(e.productId)?.price||0;t.has(e.userEmail)||t.set(e.userEmail,{clicks:0,spent:0});let s=t.get(e.userEmail);s.clicks++,s.spent+=c}),Array.from(t.entries()).map(([e,a])=>({email:e,clicks:a.clicks,spent:a.spent})).sort((e,a)=>a.spent-e.spent)}getTotalClicks(){return this.clicks.length}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=o({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{d as a};
